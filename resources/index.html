<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ASTRAI Resource Hub</title>
  <meta name="description" content="ASTRAI Resource Hub: datasets, source code, publications, and citation/licensing." />
  <link rel="stylesheet" href="/assets/css/main.css">
</head>
<body>
  <!-- Site header (no 'Resources' item in the menu by design) -->
<header>
  <div class="container">
    <div class="header-content">
      <div class="logo">ASTRAI</div>
      <nav aria-label="Primary">
        <a href="/#about">About</a>
        <a href="/#project">Project</a>
        <a href="/#resources">Resources</a>
        <a href="/#contact">Contact</a>
      </nav>
    </div>
  </div>
</header>


  <main class="container" style="margin-top: 88px;">
    <h1>ASTRAI Resource Hub</h1>
    <p class="lede">
      This hub provides access to ASTRAI datasets, source code, and publications.
      The page is being assembled step-by-step; some areas below are placeholders for upcoming content.
    </p>

    <!-- Index / Table of Contents -->
    <section id="toc" aria-labelledby="toc-heading">
      <h2 id="toc-heading">Index</h2>
      <ul>
        <li><a href="#datasets">Datasets</a>
          <ul>
            <li><a href="#A">A. Physical Simulations</a>
              <ul>
                <li><a href="#A1">A1. Physical models (4-parameters)</a></li>
                <li><a href="#A2">A2. Physical models (7-parameters)</a></li>
              </ul>
            </li>
            <li><a href="#B">B. Real Supernova Observations</a>
              <ul>
                <li><a href="#B1">B1. Real observations</a></li>
              </ul>
            </li>
            <li><a href="#C">C. GenAI Simulator</a>
              <ul>
                <li><a href="#C1">C1. Synthetic GenAI data</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#code">Source Code</a></li>
        <li><a href="#publications">Publications</a></li>
        <li><a href="#licence-citation">Licence &amp; Citation</a></li>
      </ul>
    </section>

    <!-- Datasets (anchors only for Step 1) -->
    <section id="datasets" aria-labelledby="datasets-heading">
      <h2 id="datasets-heading">Datasets</h2>
      <p>Datasets are grouped into three categories. Detailed content will be added in subsequent steps.</p>

      <!-- Category A -->
      <section id="A" aria-labelledby="A-heading">
        <h3 id="A-heading">A. Physical Simulations</h3>

        <article id="A1" aria-labelledby="A1-heading">
          <h4 id="A1-heading">A1. Physical models (4-parameters)</h4>

          <h5>Main files (.npy)</h5>
          <ul>
            <li>
              <a href="/resources/datasets/A1/lightcurves_4param.npy" download>lightcurves_4param.npy</a>
              — core light-curve simulations (4-parameter model).
            </li>
            <li>
              <a href="/resources/datasets/A2/params_4param.npy" download>params_4param.npy</a>
              — parameter matrix (4 columns).
            </li>
          </ul>

          <h5>Preview (CSV)</h5>
          <p class="muted">First 5 rows from a tiny sample file for curves; the full dataset is available via the .npy download above.</p>
          <div class="table-scroll" data-sample-url="/resources/datasets/samples/A1_curves_sample.csv" role="region" aria-label="A1 sample table">
            <em>Loading preview…</em>
          </div>
          <p class="preview-actions">
            <a class="link" href="/resources/datasets/samples/A1_curves_sample.csv" download>Download sample curves CSV</a>
          </p>
          <p class="muted">First 5 rows from a tiny sample file for parameters; the full dataset is available via the .npy download above.</p>
          <div class="table-scroll" data-sample-url="/resources/datasets/samples/A1_params_sample.csv" role="region" aria-label="A1 sample table">
            <em>Loading preview…</em>
          </div>
          <p class="preview-actions">
            <a class="link" href="/resources/datasets/samples/A1_params_sample.csv" download>Download sample parameters CSV</a>
          </p>

          <p class="muted">Further details arriving in Steps 3–4 (preview + FAIR placeholders).</p>
        </article>

        <article id="A2" aria-labelledby="A2-heading">
          <h4 id="A2-heading">A2. Physical models (7-parameters)</h4>

          <h5>Main files (.npy)</h5>
          <ul>
            <li>
              <a href="/resources/datasets/A2/lightcurves_7param.npy" download>lightcurves_7param.npy</a>
              — core simulations (7-parameter model).
            </li>
            <li>
              <a href="/resources/datasets/A2/params_7param.npy" download>params_7param.npy</a>
              — parameter matrix (7 columns).
            </li>
          </ul>

          <h5>Preview (CSV)</h5>
          <p class="muted">First 5 rows from a tiny sample file for curves; the full dataset is available via the .npy download above.</p>
          <div class="table-scroll" data-sample-url="/resources/datasets/samples/A2_curves_sample.csv" role="region" aria-label="A2 sample table">
            <em>Loading preview…</em>
          </div>
          <p class="preview-actions">
            <a class="link" href="/resources/datasets/samples/A2_curves_sample.csv" download>Download sample curves CSV</a>
          </p>
          <p class="muted">First 5 rows from a tiny sample file for parameters; the full dataset is available via the .npy download above.</p>
          <div class="table-scroll" data-sample-url="/resources/datasets/samples/A2_params_sample.csv" role="region" aria-label="A2 sample table">
            <em>Loading preview…</em>
          </div>
          <p class="preview-actions">
            <a class="link" href="/resources/datasets/samples/A2_params_sample.csv" download>Download sample parameters CSV</a>
          </p>

          <p class="muted">Further details arriving in Steps 3–4 (preview + FAIR placeholders).</p>
        </article>

      </section>

      <!-- Category B -->
      <section id="B" aria-labelledby="B-heading">
        <h3 id="B-heading">B. Real Supernova Observations</h3>

        <article id="B1" aria-labelledby="B1-heading">
          <h4 id="B1-heading">B1. Real observations</h4>

          <h5>Main files (.npy)</h5>
          <ul>
            <li>
              <a href="/resources/datasets/B1/observations.npy" download>observations.npy</a>
              — calibrated photometry (aggregated).
            </li>
          </ul>

          <h5>Preview (CSV)</h5>
          <p class="muted">First 5 rows from a tiny sample file.</p>
          <div class="table-scroll" data-sample-url="/resources/datasets/samples/B1_sample.csv" role="region" aria-label="B1 sample table">
            <em>Loading preview…</em>
          </div>
          <p class="preview-actions">
            <a class="link" href="/resources/datasets/samples/B1_sample.csv" download>Download sample CSV</a>
          </p>
          <p class="muted">Further details arriving in Steps 3–4 (preview + FAIR placeholders).</p>
        </article>

      </section>

      <!-- Category C -->
      <section id="C" aria-labelledby="C-heading">
        <h3 id="C-heading">C. GenAI Simulator</h3>

        <article id="C1" aria-labelledby="C1-heading">
          <h4 id="C1-heading">C1. Synthetic GenAI data</h4>

          <h5>Main files (.npy)</h5>
          <ul>
            <li>
              <a href="/resources/datasets/C1/synthetic_series.npy" download>synthetic_series.npy</a>
              — generated time series.
            </li>
            <li>
              <a href="/resources/datasets/C1/synthetic_labels.npy" download>synthetic_labels.npy</a>
              — labels / metadata for generated series.
            </li>
          </ul>

          <h5>Preview (CSV)</h5>
          <p class="muted">First 5 rows from a tiny sample file.</p>
          <div class="table-scroll" data-sample-url="/resources/datasets/samples/C1_sample.csv" role="region" aria-label="C1 sample table">
            <em>Loading preview…</em>
          </div>
          <p class="preview-actions">
            <a class="link" href="/resources/datasets/samples/C1_sample.csv" download>Download sample CSV</a>
          </p>

          <p class="muted">Further details arriving in Steps 3–4 (preview + FAIR placeholders).</p>
        </article>
      </section>
    </section>

    <!-- Source Code (placeholder) -->
    <section id="code" aria-labelledby="code-heading">
      <h2 id="code-heading">Source Code</h2>
      <p>Coming soon: repository link and download options.</p>
    </section>

    <!-- Publications (placeholder) -->
    <section id="publications" aria-labelledby="publications-heading">
      <h2 id="publications-heading">Publications</h2>
      <p>Coming soon: journal and conference submissions; diagrams and technical notes; selected findings.</p>
    </section>

    <!-- Licence & Citation (placeholder) -->
    <section id="licence-citation" aria-labelledby="licence-heading">
      <h2 id="licence-heading">Licence &amp; Citation</h2>
      <p>Coming soon: dataset and code licences, plus example citations (plain text and BibTeX).</p>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>Selected and funded under the ICSC Programme (PNRR) — supported by the European Union – NextGenerationEU.</p>
    </div>
  </footer>

    <script src="assets/js/main.js" defer></script>
    <script>
    (function () {
      // Minimal CSV parser (handles commas, quotes, CRLF)
      function parseCSV(text) {
        const rows = []; let row = [], field = '', i = 0, q = false;
        while (i < text.length) {
          const ch = text[i];
          if (q) {
            if (ch === '"') { if (text[i+1] === '"') { field+='"'; i+=2; continue; } q=false; i++; continue; }
            field += ch; i++; continue;
          } else {
            if (ch === '"') { q = true; i++; continue; }
            if (ch === ',') { row.push(field); field=''; i++; continue; }
            if (ch === '\n') { row.push(field); rows.push(row); row=[]; field=''; i++; continue; }
            if (ch === '\r') { i++; continue; }
            field += ch; i++; continue;
          }
        }
        if (field.length || row.length) { row.push(field); rows.push(row); }
        return rows;
      }

      function makeTable(rows) {
        const table = document.createElement('table');
        if (!rows.length) return table;
        const [head, ...rest] = rows;
        const thead = document.createElement('thead');
        const trh = document.createElement('tr');
        head.forEach(h => { const th = document.createElement('th'); th.textContent = h; trh.appendChild(th); });
        thead.appendChild(trh);
        table.appendChild(thead);

        const tbody = document.createElement('tbody');
        rest.forEach(r => {
          const tr = document.createElement('tr');
          r.forEach(c => { const td = document.createElement('td'); td.textContent = c; tr.appendChild(td); });
          tbody.appendChild(tr);
        });
        table.appendChild(tbody);
        return table;
      }

      document.querySelectorAll('.table-scroll[data-sample-url]').forEach(el => {
        const url = el.getAttribute('data-sample-url');
        fetch(url)
          .then(r => r.ok ? r.text() : Promise.reject())
          .then(text => {
            const rows = parseCSV(text);
            const sliced = rows.length > 0 ? [rows[0], ...rows.slice(1, 6)] : rows; // header + 5 rows
            el.textContent = '';
            el.appendChild(makeTable(sliced));
          })
          .catch(() => { el.textContent = 'Could not load sample preview.'; });
      });
    })();
    </script>
    <noscript>Your browser does not support JavaScript or it is disabled. Some features may not work properly.</noscript>
</body>
</html>
